"use strict";(self.webpackChunkbeancount_web=self.webpackChunkbeancount_web||[]).push([[114],{9114:function(e,t,n){n.r(t);var o=n(5671),r=n(3144),a=n(136),l=n(8557),c=n(3598),i=n(4401),s=n(5291),u=n(9491),d=n(7313),h=n(870),m=n(9277),g=n(5789),f=n(6417),p=function(e){(0,a.Z)(n,e);var t=(0,l.Z)(n);function n(){var e;(0,o.Z)(this,n);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))).ledgerTitle=localStorage.getItem("ledgerTitle")||"\u8d26\u672c",e.state={loading:!1},e.handleOpenDeleteModal=function(){i.Z.confirm({title:"\u786e\u8ba4\u5220\u9664".concat(e.ledgerTitle,"\uff1f"),icon:(0,f.jsx)(c.Z,{}),content:"\u5220\u9664\u540e\u5c06\u4e0d\u80fd\u6062\u590d",okText:"\u5220\u9664",onOk:e.handleDelete,okButtonProps:{danger:!0},cancelText:"\u53d6\u6d88"})},e.handleDelete=function(){e.setState({loading:!0}),(0,h.he)("/api/auth/ledger",{method:"DELETE"}).then((function(){localStorage.clear(),s.ZP.success("".concat(e.ledgerTitle,"\u5df2\u5220\u9664")),e.props.history.replace("/ledger")})).finally((function(){e.setState({loading:!1})}))},e}return(0,r.Z)(n,[{key:"render",value:function(){return this.context.theme!==this.theme&&(this.theme=this.context.theme),(0,f.jsx)("div",{className:"setting-page",children:(0,f.jsx)(u.Z,{block:!0,danger:!0,loading:this.state.loading,onClick:this.handleOpenDeleteModal,children:"\u5220\u9664\u8d26\u672c"})})}}]),n}(d.Component);p.contextType=m.Z,t.default=(0,g.Z)(p)},5789:function(e,t,n){var o=n(1413),r=n(5671),a=n(3144),l=n(136),c=n(8557),i=n(7313),s=n(6417);t.Z=function(e){return function(t){(0,l.Z)(i,t);var n=(0,c.Z)(i);function i(){var e;(0,r.Z)(this,i);for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))).defaultCommodity={currency:"CNY",symbol:"\uffe5"},e.currentCommodity=window.localStorage.getItem("ledgerCurrency"),e}return(0,a.Z)(i,[{key:"render",value:function(){return(0,s.jsx)(e,(0,o.Z)((0,o.Z)({},this.props),{},{commodity:this.currentCommodity?JSON.parse(this.currentCommodity):this.defaultCommodity}))}}]),i}(i.Component)}}}]);